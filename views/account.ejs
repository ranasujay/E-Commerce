<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Account</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="font-['helvetica_now_display'] bg-gray-900 text-gray-300 min-h-screen">
    <!-- Navbar -->
    <nav class="w-full flex justify-between px-6 py-4 bg-gray-800 text-gray-100 shadow-lg">
        <h3 class="text-xl font-bold text-white">E-commerce</h3>
        <div class="flex gap-6 items-center">
            <a href="/shop" class="hover:text-blue-400">Shop</a>
            <a href="/cart" class="hover:text-blue-400">Cart</a>
            <a href="/account" class="font-bold text-blue-400">My Account</a>
            <a class="text-red-500 hover:text-red-700" href="/logout">Log out</a>
        </div>
    </nav>

    <!-- Account Section -->
    <div class="container mx-auto flex items-center justify-center py-16">
        <div class="w-full max-w-2xl bg-gray-800 shadow-lg rounded-lg p-8">
            <h1 class="text-3xl font-semibold text-white mb-6">My Account</h1>

            <!-- Account Details -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Profile Picture -->
                <div class="flex flex-col items-center">
                    <% if (profilePicture) { %>
                        <img src="data:image/jpeg;base64,<%= profilePicture %>" alt="Profile Picture" class="w-28 h-28 rounded-full border border-gray-500 shadow-md mb-4">
                    <% } else { %>
                        <div class="w-28 h-28 rounded-full border border-gray-500 bg-gray-700 flex items-center justify-center shadow-md mb-4">
                            <i class="ri-user-line text-gray-400 text-4xl"></i>
                        </div>
                    <% } %>

                    <!-- Profile Picture Upload -->
                    <form action="/users/upload-profile-picture" method="post" enctype="multipart/form-data" class="w-full">
                        <label for="profileimage" class="cursor-pointer flex flex-col items-center py-2 px-4 bg-gray-700 border border-gray-600 rounded-lg text-gray-400 hover:bg-gray-600 transition">
                            <i class="ri-upload-cloud-2-line text-2xl mb-1"></i>
                            <span>Choose Image</span>
                            <input id="profileimage" name="profileimage" type="file" class="hidden">
                        </label>
                        <button type="submit" class="w-full mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">Upload Profile Picture</button>
                    </form>
                </div>

                <!-- User Info -->
                <div class="flex flex-col justify-center">
                    <h2 class="text-xl font-semibold text-gray-100 mb-4">Account Details</h2>
                    <p class="mb-3"><strong>Name:</strong> <%= fullname %></p>
                    <p class="mb-3"><strong>Email:</strong> <%= email %></p>
                    <p class="mb-3"><strong>Phone Number:</strong> <%= phone %></p>

                    <a href="/update-profile" class="inline-block mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">Update Profile</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="w-full text-center py-4 bg-gray-800 text-gray-400 mt-10">
        <p>&copy; 2024 E-commerce. All rights reserved.</p>
    </footer>
</body>

</html>
